version: 0.1
component: build
timeoutInSeconds: 3600
runAs: root
shell: bash
env:
  exportedVariables:
    - IMAGE_NAME
    - IMAGE_TAG
steps:
  - type: Command
    name: "Build Docker Image"
    timeoutInSeconds: 3600
    command: |
      set -e
      echo "Building Bell24H Docker image..."
      
      # Build the Docker image
      docker build -t bell24h:latest -f Dockerfile .
      
      # Tag for Oracle Container Registry
      docker tag bell24h:latest ${IMAGE_NAME}:${IMAGE_TAG}
      
      echo "Build completed successfully!"
      
outputArtifacts:
  - name: bell24h-image
    type: DOCKER_IMAGE
    location: ${IMAGE_NAME}:${IMAGE_TAG}

