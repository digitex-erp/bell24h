(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{3442:function(e,t,r){Promise.resolve().then(r.bind(r,6374))},6374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),a=r(3041),s=r(1671),l=r(8906),i=r(2265);function o(){let[e,t]=(0,i.useState)("phone"),[r,o]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),b=async()=>{if(!r||10!==r.length){x("Please enter a valid 10-digit phone number");return}m(!0),x("");try{(await fetch("/api/auth/send-phone-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"+91".concat(r)})})).ok?(t("otp"),f("123456")):x("Failed to send OTP. Please try again.")}catch(e){x("Network error. Please try again.")}finally{m(!1)}},g=async()=>{if(!c||6!==c.length){x("Please enter a valid 6-digit OTP");return}m(!0),x("");try{(await fetch("/api/auth/verify-phone-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"+91".concat(r),otp:c})})).ok?window.location.href="/":x("Invalid OTP. Please try again.")}catch(e){x("Verification failed. Please try again.")}finally{m(!1)}};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(a.Z,{className:"w-8 h-8 text-blue-600"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to Bell24h"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Enter your mobile number to continue"})]}),p&&(0,n.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(s.Z,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,n.jsxs)("span",{className:"text-sm text-yellow-800",children:[(0,n.jsx)("strong",{children:"Demo Mode:"})," Use OTP: ",(0,n.jsx)("code",{className:"bg-yellow-100 px-2 py-1 rounded",children:p})]})]})}),"phone"===e?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"+91"}),(0,n.jsx)("input",{type:"tel",value:r,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Enter 10-digit mobile number",className:"flex-1 min-w-0 block w-full px-3 py-3 border border-gray-300 rounded-r-md focus:ring-blue-500 focus:border-blue-500",maxLength:10})]})]}),h&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:h}),(0,n.jsx)("button",{onClick:b,disabled:u||10!==r.length,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Sending...":"Send OTP"})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter OTP"}),(0,n.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit OTP",className:"w-full px-3 py-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-center text-lg tracking-widest",maxLength:6}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["OTP sent to +91",r]})]}),h&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:h}),(0,n.jsx)("button",{onClick:g,disabled:u||6!==c.length,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Verifying...":"Verify OTP"}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("button",{onClick:()=>{d(""),x(""),b()},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend OTP"})})]}),(0,n.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[(0,n.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Secure & Verified"]})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsx)("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Need help? Contact us on WhatsApp"})})]})})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:m,...h}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:l?24*Number(s)/Number(a):s,className:i("lucide",d),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:o,...c}=r;return(0,n.createElement)(d,{ref:s,iconNode:t,className:i("lucide-".concat(a(l(e))),"lucide-".concat(e),o),...c})});return r.displayName=l(e),r}},1671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3041:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=3442)}),_N_E=e.O()}]);